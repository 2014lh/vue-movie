webpackJsonp([4],{4:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:["show"]}},5:function(t,e){},6:function(t,e){t.exports='<div class="ui-loading-block show" v-if=show> <div class=ui-loading-cnt> <i class=ui-loading-bright></i> </div> </div>'},7:function(t,e,i){var s,o;i(5),s=i(4),o=i(6),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},9:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:["left","title","right"],methods:{back:function(){window.history.back()}}}},10:function(t,e){},11:function(t,e){t.exports='<header class="ui-header ui-header-positive ui-border-b header"> <button class="btn back left" v-if="left == \'back\'" @click=back> <i class=ui-icon-return></i> </button> <button class="btn menu left" v-if="left == \'menu\'"> <i></i> <i></i> <i></i> </button> <button class="btn search right" v-if="right == \'search\'" v-link="{name: \'search\'}"> <i class=ui-icon-search></i> </button> <h1>{{title}}</h1> </header>'},12:function(t,e,i){var s,o;i(10),s=i(9),o=i(11),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},17:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:["score","size"]}},22:function(t,e){},23:function(t,e){t.exports='<div :class="[\'star\', size]"> <div class=gray> <i class=ui-icon-star v-for="n in 5"></i> </div> <div class=ligh :style="{width: (score * 10) + \'%\'}"> <i class=ui-icon-star v-for="n in 5"></i> </div> <div class=score> {{score}} </div> </div>'},24:function(t,e,i){var s,o;i(22),s=i(17),o=i(23),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},51:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={data:function(){return{title:"列表",list:[],page:1,count:10,type:"",more:!0,load:!1}},route:{data:function(t){this.type=t.to.params.type,this.pageData(),window.addEventListener("scroll",this.scroll)},deactivate:function(t){window.removeEventListener("scroll",this.scroll),t.next()}},methods:{scroll:function(t){document.body.scrollHeight-window.screen.height-document.body.scrollTop<=0&&!this.load&&(this.load=!0,this.pageData())},pageData:function(){var t=this;this.$http.jsonp("http://api.douban.com/v2/movie/"+this.type,{count:this.count,start:(this.page-1)*this.count}).then(function(e){1===t.page&&(t.$loadingRouteData=!1,t.title=e.data.title.split("-")[0]),e.data&&e.data.subjects.length?(t.page++,t.list=t.list.concat(e.data.subjects)):t.more=!1,t.load=!1})}},components:{headerBar:i(12),star:i(24),loading:i(7)}}},97:function(t,e){t.exports='<div class=page v-if=!$loadingRouteData transition=fade> <header-bar left=back :title=title right=search></header-bar> <ul class="ui-list ui-list-link ui-border-tb list-one"> <li class=ui-border-t v-for="r in list" v-link="{name: \'show\', params: {id: r.id}}" track-by=id> <div class=ui-list-img> <img :src=r.images.large alt=""> </div> <div class=ui-list-info> <h4 class=ui-nowrap>{{r.title}}</h4> <p class=ui-nowrap><star :score=r.rating.average></star></p> <p class=ui-nowrap>{{r.genres.join(\' \')}}</p> <p class=ui-nowrap><span v-for="cast in r.casts">{{cast.name}} </span></p> </div> </li> </ul> <div class=ui-loading-wrap> <p class=ui-txt-info>{{ more ? \'加载中\' : \'没有更多了～\'}}</p> <i class=ui-loading v-show=more></i> </div> </div> <loading :show=$loadingRouteData></loading>'},105:function(t,e,i){var s,o;s=i(51),o=i(97),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)}});
//# sourceMappingURL=4.9a5d9bd8be2cd500e022.js.map